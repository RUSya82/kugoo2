{"version":3,"sources":["01__main.js","formSender.js"],"names":["window","addEventListener","burgerMenu","document","querySelector","menu","links","close","closeModal","classList","remove","body","style","overflow","add","e","target","el","duration","innerEl","innerWidth","offsetWidth","cloneEl","cloneNode","appendChild","progress","translateX","start","performance","now","requestAnimationFrame","step","transform","animateMarquee","getResource","async","url","res","fetch","ok","Error","json","Product","[object Object]","id","img","alt","title","subtitle","price","priceOld","text","credit","characteristics","orderFirst","orderLast","perentSelector","this","perent","element","createElement","innerHTML","weight","chargingTime","travelRange","machSpeed","machLoad","wheelDiameter","motorPower","batteryCapacity","options","append","location","hostname","then","data","forEach","render","postData","method","showThanksModal","modalThanksObj","bootstrap","Modal","modalThanks","show","setTimeout","hide","maskPhone","selector","masked","elems","querySelectorAll","mask","event","keyCode","template","def","replace","val","value","i","newValue","a","length","charAt","indexOf","slice","reg","substr","RegExp","test","type","elem","exampleModalQuestion","exampleModal","exampleModalCheckout","exampleModalCredit","exampleModalSupport","modalFormSender","targetModal","modalHeader","modalHeaderSubtitle","modalImage","modalForm","modalPrice","preventDefault","formData","FormData","name","getAll","userName","address","set","trim","textContent","imageUrl","getAttribute","modalPriceText","productName","response","status","reset","getInstance","catch","error","console","bindModalForm","helpBlock","getElementById","header","helpFormSender","fillOpenModal","modal","button","relatedTarget","dataset","setAttribute","image","fillModals"],"mappings":"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","file":"../js/main.min.js","sourcesContent":["'use strict';\n\nwindow, addEventListener('DOMContentLoaded', () => {\n    const burgerMenu = document.querySelector('.header__burger'),\n        menu = document.querySelector('.header__nav'),\n        links = document.querySelector('.header__menu'),\n        close = document.querySelector('.close');\n\n    function openModal() {\n        menu.classList.add('show');\n        menu.classList.remove('hide');\n        document.body.style.overflow = 'hidden';\n    }\n\n    function closeModal() {\n        menu.classList.remove('show');\n        document.body.style.overflow = '';\n    }\n\n    burgerMenu.addEventListener('click', openModal);\n    close.addEventListener('click', closeModal);\n    links.addEventListener('click', closeModal);\n\n    document.addEventListener('click', (e) => {\n        if (e.target === menu) {\n            closeModal();\n        }\n    });\n\n    function animateMarquee(el, duration) {\n        const innerEl = el.querySelector('.marquee__inner');\n        const innerWidth = innerEl.offsetWidth;\n        const cloneEl = innerEl.cloneNode(true);\n        el.appendChild(cloneEl);\n\n        let start = performance.now();\n        let progress;\n        let translateX;\n\n        requestAnimationFrame(function step(now) {\n            progress = (now - start) / duration;\n\n            if (progress > 1) {\n                progress %= 1;\n                start = now;\n            }\n\n            translateX = innerWidth * progress;\n\n            innerEl.style.transform = `translate3d(-${translateX}px, 0 , 0)`;\n            cloneEl.style.transform = `translate3d(-${translateX}px, 0 , 0)`;\n            requestAnimationFrame(step);\n        });\n    }\n\n    const marquee1 = document.querySelector('#marquee1');\n\n    animateMarquee(marquee1, 15000);\n\n    const getResource = async (url) => {\n        const res = await fetch(url);\n\n        if (!res.ok) {\n            throw new Error(`Could not fetch ${url}`);\n        }\n\n        return await res.json();\n    };\n\n    class Product {\n        constructor(id, img, alt, title, subtitle, price, priceOld, text, credit, characteristics, orderFirst, orderLast, perentSelector) {\n            this.id = id;\n            this.img = img;\n            this.alt = alt;\n            this.title = title;\n            this.subtitle = subtitle;\n            this.perent = document.querySelector(perentSelector);\n            this.price = price;\n            this.priceOld = priceOld;\n            this.text = text;\n            this.credit = credit;\n            this.orderFirst = orderFirst;\n            this.orderLast = orderLast;\n            this.characteristics = characteristics;\n        }\n\n\n        render() {\n            const element = document.createElement('div');\n            element.classList.add('kugoo');\n\n            element.innerHTML = `\n          <div class=\"product__box\" id=${this.id}>\n            <div class=\"container\">\n                <div class=\"row\">\n                    <div class=\"col-12 col-sm-12 col-md-12 col-lg-6 ${this.orderLast} col-xl-6 col-xxl-6\">\n                        <div class=\"product__block\">\n                            <img src=${this.img} alt=${this.alt} class=\"product__image\">\n                        </div>\n                    </div>\n                    <div class=\"col-12 col-sm-12 col-md-12 col-lg-6 ${this.orderFirst} col-xl-6 col-xxl-6\">\n                        <div class=\"product__info\">\n                            <h4 class=\"product__title\">${this.title}</h4>\n                            <span class=\"product__subtitle\">${this.subtitle}</span>\n                            <div class=\"product__page\">\n                                <span class=\"product__price\">${this.price}</span>\n                                <s class=\"product__price-old\">${this.priceOld}</s>\n                            </div>\n                            <div class=\"product__characteristic\">\n                                <ul class=\"product__information\">\n                                    <li class=\"li product__desc\">Вес: <span>${this.characteristics.weight}</span></li>\n                                    <li class=\"li product__desc\">Время зарядки: <span>${this.characteristics.chargingTime}</span></li>\n                                    <li class=\"li product__desc\">Дальность хода: <span>${this.characteristics.travelRange}</span></li>\n                                    <li class=\"li product__desc\">Мах. скорость: <span>${this.characteristics.machSpeed}/ч</span></li>\n                                    <li class=\"li product__desc\">Мах. нагрузка: <span>${this.characteristics.machLoad}</span></li>\n                                    <li class=\"li product__desc\">Диаметр колёс: <span>${this.characteristics.wheelDiameter}</span></li>\n                                    <li class=\"li product__desc\">Мощность мотора: <span>${this.characteristics.motorPower}</span></li>\n                                    <li class=\"li product__desc\">Ёмкость аккумулятора:  <span>${this.characteristics.batteryCapacity}</span></li>\n                                    <li class=\"li product__desc\">Опции: <span>${this.characteristics.options}</span></li>\n                                </ul>\n                            </div>\n                            <div class=\"product__aside\">\n                                <p class=\"product__text\"><strong>${this.title}</strong>${this.text}</p>\n                            </div>\n                            <div class=\"product__holder\">\n                                <button class=\"product__credit\" data-subtitle=\"${this.title}\" data-image=\"${this.img}\" data-alt=\"${this.alt}\" data-bs-toggle=\"modal\" data-price=\"${this.credit}\" data-bs-target=\"#exampleModalCredit\" onclick=\"ym(76080295,'reachGoal','credit')\";>В расрочку — от ${this.credit}</button>\n                                <button class=\"button\" data-bs-toggle=\"modal\" data-subtitle=\"${this.title}\" data-price=\"${this.price}\" data-image=\"${this.img}\"  data-alt=\"${this.alt}\" data-bs-target=\"#exampleModalCheckout\" onclick=\"ym(76080295,'reachGoal','buy')\";>Купить</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n      `;\n            this.perent.append(element);\n        }\n    }\n\n    //getResource(`http://localhost:3000/product`)\n    getResource(`http://${window.location.hostname}/db.json`)\n        .then(data => {\n            data['product'].forEach(({id, img, alt, title, subtitle, price, priceOld, text, credit, characteristics, orderFirst, orderLast}) => {\n                new Product(id, img, alt, title, subtitle, price, priceOld, text, credit, characteristics, orderFirst, orderLast, '.product').render();\n            });\n        });\n\n    //getResource(`http://localhost:3000/expensive`)\n    getResource(`http://${window.location.hostname}/db.json`)\n        .then(data=> {\n            data['expensive'] .forEach(({id, img, alt, title, subtitle, price, priceOld, text, credit, characteristics, orderFirst, orderLast}) => {\n                new Product(id, img, alt, title, subtitle, price, priceOld, text, credit, characteristics, orderFirst, orderLast, '.expensive').render();\n            });\n        });\n\n\n});","document.addEventListener('DOMContentLoaded', () => {\n\n    /**\n     * send POST-data by PHPMailer\n     * @param body\n     * @returns {Promise<Response>}\n     */\n    const postData = (body) => {\n        return fetch('send.php', {\n            body: body,\n            method: 'POST',\n        });\n    };\n\n    /**\n     * show thanks modal & hide after 3 sec\n     */\n    const showThanksModal = () => {\n        const modalThanksObj = new bootstrap.Modal(modalThanks);\n        modalThanksObj.show();\n        //hide thanks after 3 sec\n        setTimeout(() => {\n            modalThanksObj.hide();\n        }, 3000);\n    };\n\n    /**\n     * bind mask for phone number\n     * @param selector\n     * @param masked\n     */\n    const maskPhone = (selector, masked = '+7 (___) ___-__-__') => {\n        const elems = document.querySelectorAll(selector);\n\n        function mask(event) {\n            const keyCode = event.keyCode;\n            const template = masked,\n                def = template.replace(/\\D/g, \"\"),\n                val = this.value.replace(/\\D/g, \"\");\n            let i = 0,\n                newValue = template.replace(/[_\\d]/g, function (a) {\n                    return i < val.length ? val.charAt(i++) || def.charAt(i) : a;\n                });\n            i = newValue.indexOf(\"_\");\n            if (i != -1) {\n                newValue = newValue.slice(0, i);\n            }\n            let reg = template.substr(0, this.value.length).replace(/_+/g,\n                function (a) {\n                    return \"\\\\d{1,\" + a.length + \"}\";\n                }).replace(/[+()]/g, \"\\\\$&\");\n            reg = new RegExp(\"^\" + reg + \"$\");\n            if (!reg.test(this.value) || this.value.length < 5 || keyCode > 47 && keyCode < 58) {\n                this.value = newValue;\n            }\n            if (event.type == \"blur\" && this.value.length < 5) {\n                this.value = \"\";\n            }\n\n        }\n\n        for (const elem of elems) {\n            elem.addEventListener(\"input\", mask);\n            elem.addEventListener(\"focus\", mask);\n            elem.addEventListener(\"blur\", mask);\n        }\n    };\n    //set phone mask for forms\n    maskPhone('input[name=tel]');\n    maskPhone('input[name=phone]');\n\n\n    const bindModalForm = () => {\n        // модалки\n        const exampleModalQuestion = document.querySelector('#exampleModalQuestion');\n        const exampleModal = document.querySelector('#exampleModal');\n        const exampleModalCheckout = document.querySelector('#exampleModalCheckout');\n        const exampleModalCredit = document.querySelector('#exampleModalCredit');\n        const exampleModalSupport = document.querySelector('#exampleModalSupport');\n\n        /**\n         * send data from modal forms after submit\n         * @param targetModal - modal for binding(element)\n         */\n        const modalFormSender = (targetModal) => {\n            const modalHeader = targetModal.querySelector('.modal-header h5');\n            const modalHeaderSubtitle = targetModal.querySelector('.modal-header span');\n            const modalImage = targetModal.querySelector('.modal-header img');\n            const modalForm = targetModal.querySelector('form');\n            const modalPrice = targetModal.querySelector('.modal-price');\n\n            modalForm.addEventListener('submit', (e) => {\n                e.preventDefault();\n                const formData = new FormData(modalForm);\n                // name повторяется, $_POST не дает дублировать, переименовываем поля\n                const name = formData.getAll('name');\n                const userName = name[0];\n                const address = name[1];\n                // add fields\n                formData.set('name', userName.trim()); //rewrite all fields \"name\"\n                if (address) {\n                    formData.append('address', address.trim());\n                }\n                formData.append('head', modalHeader.textContent);\n                if (modalImage) {\n                    const imageUrl = `http://${window.location.hostname}${modalImage.getAttribute('src')}`;\n                    formData.append('image', imageUrl);\n                }\n                let modalPriceText = '';\n                if (modalPrice) {\n                    modalPriceText = modalPrice.textContent.replace(/Итого:/, '');\n                }\n                formData.append('price', modalPriceText);\n                const productName = modalHeaderSubtitle.textContent;\n                formData.append('productName', productName);\n                // send data\n                postData(formData)\n                    .then((response) => {\n                        if (response.status !== 200) {\n                            throw new Error('status not 200');\n                        }\n                        return response.text()\n                    }).then((response) => {\n                    modalForm.reset();\n                    //close bootstrap modal\n                    bootstrap.Modal.getInstance(targetModal).hide();\n                    setTimeout(showThanksModal, 500);\n                }).then(() => {\n                    //show thanks\n\n                }).catch((error) => {\n                    console.error(error);\n                });\n            });\n\n        };\n        // bind modals\n        modalFormSender(exampleModalQuestion);\n        modalFormSender(exampleModal);\n        modalFormSender(exampleModalCheckout);\n        modalFormSender(exampleModalCredit);\n        modalFormSender(exampleModalSupport);\n\n    };\n    bindModalForm();\n\n    // отдельная форма помощи, не модалка\n    const helpFormSender = () => {\n        const helpBlock = document.getElementById('help');\n        const header = helpBlock.querySelector('h3');\n        const form = helpBlock.querySelector('form');\n\n        form.addEventListener('submit', (e) => {\n            const target = e.target;\n            e.preventDefault();\n            const formData = new FormData(target);\n            formData.append('head', header.textContent);\n            postData(formData)\n                .then((response) => {\n                    if (response.status !== 200) {\n                        throw new Error('status not 200');\n                    }\n                    return response.text()\n                }).then((response) => {\n                target.reset();\n                showThanksModal();\n            }).catch((error) => {\n                console.error(error);\n            });\n        });\n    };\n    helpFormSender();\n\n    const fillModals = () => {\n        const exampleModalCheckout = document.querySelector('#exampleModalCheckout');\n        const exampleModalCredit = document.querySelector('#exampleModalCredit');\n\n        const fillOpenModal = (modal) => {\n            modal.addEventListener('show.bs.modal', function (event) {\n                const modalHeaderSubtitle = modal.querySelector('.modal-header span');\n                const modalImage = modal.querySelector('.modal-header img');\n                const modalPrice = modal.querySelector('.modal-price');\n\n                // Button that triggered the modal\n                const button = event.relatedTarget;\n\n                // Extract info from data-* attributes\n                modalHeaderSubtitle.textContent = button.dataset.subtitle;\n                modalPrice.textContent = button.dataset.price;\n                modalImage.setAttribute('src', button.dataset.image);\n                modalImage.setAttribute('alt', button.dataset.alt);\n            });\n\n        };\n        fillOpenModal(exampleModalCheckout);\n        fillOpenModal(exampleModalCredit);\n    };\n    fillModals();\n});"]}